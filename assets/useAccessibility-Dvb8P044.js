import{c as f,r,j as t,P as y,m as N,w as g}from"./index-D_afzw_X.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=f("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=f("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var C="Separator",x="horizontal",T=["horizontal","vertical"],b=r.forwardRef((s,c)=>{const{decorative:o,orientation:e=x,...n}=s,a=E(e)?e:x,u=o?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return t.jsx(y.div,{"data-orientation":a,...u,...n,ref:c})});b.displayName=C;function E(s){return T.includes(s)}var v=b;const I=r.forwardRef(({className:s,orientation:c="horizontal",decorative:o=!0,...e},n)=>t.jsx(v,{ref:n,decorative:o,orientation:c,className:N("shrink-0 bg-border",c==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...e}));I.displayName=v.displayName;const O=({onVerify:s,actionType:c})=>{const[o,e]=r.useState("warning"),[n,a]=r.useState(3),[l,u]=r.useState(""),[d,p]=r.useState({a:0,b:0,answer:0});r.useEffect(()=>{const i=Math.floor(Math.random()*10)+1,m=Math.floor(Math.random()*10)+1;p({a:i,b:m,answer:i+m})},[]),r.useEffect(()=>{if(o==="cooldown"&&n>0){const i=setTimeout(()=>a(n-1),1e3);return()=>clearTimeout(i)}else o==="cooldown"&&n===0&&s()},[o,n,s]);const w=()=>{if(parseInt(l)===d.answer)e("cooldown"),a(3);else{const i=Math.floor(Math.random()*10)+1,m=Math.floor(Math.random()*10)+1;p({a:i,b:m,answer:i+m}),u("")}},h=()=>{switch(c){case"purchase":return"ticket purchase";case"transfer":return"ticket transfer";case"list":return"ticket listing"}};return o==="warning"?t.jsxs("div",{className:"p-4 border border-yellow-500/30 rounded-md bg-yellow-500/10 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(g,{className:"w-5 h-5 text-yellow-500"}),t.jsx("div",{className:"font-mono uppercase text-sm text-yellow-500",children:"ANTI-BOT VERIFICATION"})]}),t.jsxs("div",{className:"text-sm text-neo-contrast/90",children:["To prevent automated abuse and ensure fair access, we need to verify you're human before completing this ",h(),"."]}),t.jsx("button",{onClick:()=>e("captcha"),className:"w-full px-4 py-2 bg-yellow-500/20 border border-yellow-500/30 rounded-md font-mono uppercase text-sm hover:bg-yellow-500/30 transition-colors",children:"[ PROCEED TO VERIFICATION ]"})]}):o==="captcha"?t.jsxs("div",{className:"p-4 border border-neo-border/20 rounded-md bg-neo-contrast/5 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(A,{className:"w-5 h-5 text-neo-contrast/60"}),t.jsx("div",{className:"font-mono uppercase text-sm",children:"HUMAN VERIFICATION"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-lg font-mono mb-2",children:[d.a," + ",d.b," = ?"]}),t.jsx("input",{type:"number",value:l,onChange:i=>u(i.target.value),className:"w-20 px-3 py-2 bg-neo-contrast-inverse border border-neo-border/20 rounded-md text-center font-mono",placeholder:"?",autoFocus:!0})]}),t.jsx("button",{onClick:w,disabled:!l,className:"w-full px-4 py-2 bg-neo-contrast/10 border border-neo-border/20 rounded-md font-mono uppercase text-sm hover:bg-neo-contrast/20 transition-colors disabled:opacity-50",children:"[ VERIFY ]"})]}):o==="cooldown"?t.jsxs("div",{className:"p-4 border border-green-500/30 rounded-md bg-green-500/10 space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(j,{className:"w-5 h-5 text-green-500"}),t.jsx("div",{className:"font-mono uppercase text-sm text-green-500",children:"VERIFICATION COMPLETE"})]}),t.jsxs("div",{className:"text-center",children:[t.jsxs("div",{className:"text-sm text-neo-contrast/90 mb-2",children:["Proceeding with ",h()," in:"]}),t.jsx("div",{className:"text-2xl font-mono font-bold text-green-500",children:n})]})]}):null};function M(){const s=r.useRef(null),c=r.useCallback(e=>{const n=e||s.current;n&&n.focus()},[]),o=r.useCallback(e=>{if(!e.current)return;const n=e.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),a=n[0],l=n[n.length-1],u=d=>{d.key==="Tab"&&(d.shiftKey?document.activeElement===a&&(d.preventDefault(),l==null||l.focus()):document.activeElement===l&&(d.preventDefault(),a==null||a.focus()))};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[]);return{focusRef:s,setFocus:c,trapFocus:o}}function R(){return{announce:r.useCallback((c,o="polite")=>{const e=document.createElement("div");e.setAttribute("aria-live",o),e.setAttribute("aria-atomic","true"),e.style.position="absolute",e.style.left="-10000px",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",document.body.appendChild(e),e.textContent=c,setTimeout(()=>{document.body.removeChild(e)},1e3)},[])}}export{O as A,j as C,I as S,A as T,R as a,M as u};
